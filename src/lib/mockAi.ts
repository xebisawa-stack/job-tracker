interface ResponseRule {
  keywords: string[];
  response: string;
}

const rules: ResponseRule[] = [
  {
    keywords: ["自己紹介", "自己PR"],
    response:
      "自己紹介では、以下の構成がおすすめです。\n\n1. **名前と所属** - 簡潔に\n2. **強み・スキル** - 具体的なエピソードを添えて\n3. **志望理由との接続** - なぜこの会社で活かせるか\n\n30秒〜1分程度にまとめると好印象です。事前に声に出して練習し、自然な話し方を心がけましょう。",
  },
  {
    keywords: ["志望動機", "志望理由"],
    response:
      "志望動機を作るポイントは3つです。\n\n1. **なぜその業界か** - 業界への関心の理由\n2. **なぜその企業か** - 他社との違い、独自の魅力\n3. **自分が何を貢献できるか** - スキルや経験との結びつき\n\n企業のIR情報やニュースリリースを調べると、説得力のある志望動機が作れます。「御社でなければならない理由」を具体的に述べましょう。",
  },
  {
    keywords: ["面接", "面接対策", "面接準備"],
    response:
      "面接対策の基本をお伝えします。\n\n**事前準備**\n- 企業研究（事業内容・最新ニュース・競合他社）\n- 想定質問への回答準備（STAR法がおすすめ）\n- 逆質問を3つ以上用意\n\n**当日のポイント**\n- 清潔感のある身だしなみ\n- 結論から話す（PREP法）\n- 具体的な数字やエピソードを使う\n\n模擬面接を友人やキャリアセンターで行うと効果的です。",
  },
  {
    keywords: ["ES", "エントリーシート"],
    response:
      "ESを書くときのコツをお伝えします。\n\n1. **結論ファースト** - 最初の一文で要点を伝える\n2. **具体性** - 「頑張りました」ではなく、数字や行動を示す\n3. **一貫性** - 自己PR・ガクチカ・志望動機に矛盾がないように\n4. **読みやすさ** - 1文を短く、段落を分ける\n\n書いたら必ず第三者に読んでもらい、フィードバックをもらいましょう。文字数制限の9割は埋めるのが目安です。",
  },
  {
    keywords: ["ガクチカ", "学生時代", "力を入れた"],
    response:
      "ガクチカはSTAR法で整理しましょう。\n\n- **S（状況）** - どんな場面だったか\n- **T（課題）** - 何が問題・目標だったか\n- **A（行動）** - あなたが具体的に何をしたか\n- **R（結果）** - どんな成果が出たか\n\n重要なのは「何をしたか」よりも「なぜそうしたか」「何を学んだか」です。企業が見ているのはあなたの思考プロセスと成長力です。",
  },
  {
    keywords: ["長所", "短所", "強み", "弱み"],
    response:
      "長所・短所の答え方のポイントです。\n\n**長所**\n- 仕事に活かせる強みを選ぶ\n- 具体的なエピソードで裏付ける\n- 例：「計画性があります。ゼミの研究では〇〇を計画的に進め...」\n\n**短所**\n- 致命的でないものを選ぶ\n- 改善の努力を必ず添える\n- 例：「心配性な面がありますが、チェックリストを活用して...」\n\n長所と短所は表裏一体で語ると一貫性が出ます。",
  },
  {
    keywords: ["逆質問", "質問はありますか"],
    response:
      "逆質問は意欲を示す絶好のチャンスです。\n\n**おすすめの逆質問**\n- 「入社後、最初に任される業務はどのようなものですか？」\n- 「活躍されている社員に共通する特徴はありますか？」\n- 「〇〇事業の今後の展望を教えてください」\n\n**避けるべき質問**\n- 調べればわかること（売上高、設立年など）\n- 待遇や休日に関する質問（一次面接では避ける）\n- 「特にありません」は絶対NG\n\n最低3つは準備しておきましょう。",
  },
  {
    keywords: ["服装", "身だしなみ", "スーツ"],
    response:
      "面接時の身だしなみのポイントです。\n\n**スーツ**\n- 黒・紺・ダークグレーが基本\n- シワや汚れがないか前日に確認\n\n**髪型**\n- 清潔感が最重要\n- 顔が見えるスタイルを心がける\n\n**その他**\n- 靴は磨いておく\n- カバンはA4が入るビジネスバッグ\n- アクセサリーは控えめに\n\n「私服でお越しください」の場合はオフィスカジュアルが無難です。",
  },
  {
    keywords: ["お礼", "メール", "お礼メール"],
    response:
      "面接後のお礼メールのポイントです。\n\n**タイミング**: 面接当日中に送る\n\n**構成**\n```\n件名：本日の面接のお礼（氏名）\n\n株式会社〇〇\n人事部 △△様\n\nお世話になっております。\n本日面接のお時間をいただきました、□□です。\n\n本日は貴重なお時間をいただき、\n誠にありがとうございました。\n\n〇〇についてのお話を伺い、\nますます御社への志望度が高まりました。\n\n何卒よろしくお願いいたします。\n```\n\n簡潔に、感謝と意欲を伝えましょう。",
  },
  {
    keywords: ["不安", "緊張", "心配"],
    response:
      "就活の不安や緊張は誰もが感じるものです。\n\n**緊張を和らげるコツ**\n- 深呼吸を3回（4秒吸って、7秒止めて、8秒吐く）\n- 「完璧でなくていい」と自分に許可を出す\n- 準備をしっかりすることが最大の自信になる\n\n**不安への対処法**\n- 不安を紙に書き出して可視化する\n- 一人で抱え込まず、友人やキャリアセンターに相談\n- 小さな成功体験を積み重ねる\n\nあなたは十分に頑張っています。一歩ずつ進んでいきましょう。",
  },
  {
    keywords: ["内定", "承諾", "辞退"],
    response:
      "内定に関するアドバイスです。\n\n**内定承諾前に確認すること**\n- 労働条件通知書の内容（給与・勤務地・勤務時間）\n- 自分のキャリアプランとの一致\n- 複数内定がある場合は比較表を作る\n\n**内定辞退のマナー**\n- できるだけ早く連絡する\n- 電話で直接伝える（メールだけはNG）\n- 感謝の気持ちを伝え、理由は簡潔に\n\n承諾期限がある場合は、他社の選考状況を正直に伝えて相談しましょう。",
  },
  {
    keywords: ["グループディスカッション", "GD", "グルディス"],
    response:
      "グループディスカッション（GD）のコツです。\n\n**役割**\n- 司会・書記・タイムキーパーなど、自分に合った役割を\n- 役割がなくても積極的に発言すればOK\n\n**評価ポイント**\n- 協調性：他者の意見を受け入れ、発展させる\n- 論理性：根拠のある発言をする\n- リーダーシップ：議論を前に進める\n\n**注意点**\n- 他人の意見を否定しない（「それに加えて〜」）\n- 発言量より質を意識\n- 結論を時間内にまとめる意識を持つ",
  },
];

const defaultResponse =
  "ご質問ありがとうございます。就活に関するアドバイスをいくつかお伝えします。\n\n- **面接対策**: 「面接」「面接対策」と聞いてください\n- **ES対策**: 「ES」「エントリーシート」と聞いてください\n- **自己PR**: 「自己紹介」「自己PR」と聞いてください\n- **志望動機**: 「志望動機」と聞いてください\n- **ガクチカ**: 「ガクチカ」と聞いてください\n\nその他にも、逆質問・身だしなみ・お礼メール・GDなどについてもお答えできます。お気軽にどうぞ！";

export function getMockAiResponse(input: string): string {
  const matched = rules.find((rule) =>
    rule.keywords.some((kw) => input.includes(kw))
  );
  return matched ? matched.response : defaultResponse;
}
